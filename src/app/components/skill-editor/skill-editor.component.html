<mat-card *ngIf="(selectedSkilltree$ | async) as skilltree" class="spacer-t-1em spacer-b-1em">
  <mat-form-field class="spacer-r-1em">
    <mat-select placeholder="Select Skill"
                [(ngModel)]="selectedSkill"
                (change)="switchSkill($event)">
      <mat-select-trigger>
        <span *ngIf="selectedSkill">
          <img [src]="'assets/img/skills/' +  selectedSkill.icon" class="matl-chip__skill">
          &nbsp;{{ selectedSkill.id }}
        </span>
      </mat-select-trigger>
      <mat-option *ngFor="let skill of skills" [value]="skill">
        <img [src]="'assets/img/skills/' +  skill.icon" class="matl-chip__skill">
        &nbsp;{{ skill.id }}
        <span *ngIf="(selectedSkilltree$ | async).skills[skill.id]?.length > 0"
              [matBadge]="(selectedSkilltree$ | async).skills[skill.id]?.length" matBadgePosition="after"
              matBadgeColor="primary">&nbsp;&nbsp;</span>
      </mat-option>
    </mat-select>
  </mat-form-field>
  <button mat-raised-button color="primary" (click)="addUpgrade(skilltree)">Add Upgrade</button>
</mat-card>

<ng-template #upgradeComponentContainer></ng-template>
