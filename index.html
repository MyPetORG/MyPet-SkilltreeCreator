<!--
  ~ SPDX-License-Identifier: AGPL-3.0-only
  ~ Copyright (c) 2025 UserDerezzed
  ~
  ~ This file is part of MyPet-SkilltreeCreator.
  ~
  ~ This program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License, version 3 only.
  ~
  ~ This program is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
  ~ GNU Affero General Public License for more details.
  ~
  ~ You should have received a copy of the GNU Affero General Public License along with this program. See the LICENSE.md file for details.
  -->

<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>MyPet Skilltree Creator</title>
    <!-- Prevent FOUC: inline critical CSS + script to apply theme before first paint -->
    <style>
        /* Critical dark mode colors - applied before main CSS loads */
        :root { --bg: #ffffff; --text: #111; }
        [data-theme="dark"] { --bg: #1a1d23; --text: #e8eaed; }
        html, body { background: var(--bg); color: var(--text); }
    </style>
    <script>
        (function() {
            var stored = null;
            try { stored = localStorage.getItem('mypet-skilltree-creator/v1/theme'); } catch(e) {}
            var theme = stored === 'light' ? 'light'
                      : stored === 'dark' ? 'dark'
                      : window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
            if (theme === 'dark') document.documentElement.setAttribute('data-theme', 'dark');
        })();
    </script>
    <link rel="apple-touch-icon" sizes="180x180" href="img/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="img/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="img/favicon/favicon-16x16.png">
    <link rel="manifest" href="img/favicon/site.webmanifest">
    <!-- MineRender JS rendering dependencies -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/94/three.min.js" integrity="sha256-NGC9JEuTWN4GhTj091wctgjzftr+8WNDmw0H8J5YPYE=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/gh/InventivetalentDev/MineRender@1.4.6/dist/model.min.js"></script>
</head>
<body>
<div id="root"></div>
<script type="module" src="/src/app/main.tsx"></script>
</body>
</html>